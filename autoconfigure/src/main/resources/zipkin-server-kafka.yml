# When enabled, this allows shorter env properties (ex -Dspring.profiles.active=kafka)
zipkin:
  storage:
    kafka:
      bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

      spans-topic: ${KAFKA_SPANS_TOPIC:zipkin-spans}
      trace-topic: ${KAFKA_TRACE_TOPIC:zipkin-trace}
      dependency-topic: ${KAFKA_DEPENDENCY_TOPIC:zipkin-dependency}

      aggregation-stream-app-id: ${KAFKA_STORAGE_AGGREGATION_STREAM_APP_ID:zipkin-aggregation}
      trace-store-stream-app-id: ${KAFKA_STORAGE_TRACE_STORE_STREAM_APP_ID:zipkin-trace-store}
      dependency-store-stream-app-id: ${KAFKA_STORAGE_DEPENDENCY_STORE_STREAM_APP_ID:zipkin-dependency-store}
      store-dir: ${KAFKA_STORAGE_DIR:/data}

      span-consumer-enabled: true

      trace-retention-scan-frequency: ${KAFKA_STORAGE_TRACE_GC_INTERVAL:3600000}
      trace-retention-period: ${KAFKA_STORAGE_TRACE_TTL:259200000}
      trace-inactivity-gap: ${KAFKA_STORAGE_TRACE_INACTIVITY_GAP:30000}

      dependency-retention-period: ${KAFKA_STORAGE_DEPENDENCY_TTL:604800000}